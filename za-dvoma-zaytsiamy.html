<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ó–∞ –¥–≤–æ–º–∞ –∑–∞–π—Ü—è–º–∏ ‚Äî –¢–µ–∞—Ç—Ä –®–µ–≤—á–µ–Ω–∫–∞, –ö—Ä–∏–≤–∏–π –†—ñ–≥</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f9f9f9; margin: 0; }
    .container { max-width: 1000px; margin: 0 auto; }
    h1 { text-align: center; margin-top: 20px; }
    .event-info { background: #fff; padding: 15px; border-radius: 8px; margin: 20px 0; }
    .hall-container {
      position: relative;
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
      background: url('shevchenko.png') no-repeat center;
      background-size: contain;
      height: 600px;
      border: 1px solid #ccc;
      margin-bottom: 20px;
    }
    .seat {
      position: absolute;
      width: 16px;
      height: 16px;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 10px;
      color: #000;
      cursor: pointer;
      user-select: none;
      border: 1px solid rgba(0,0,0,0.4);
      font-weight: bold;
    }
    .seat.selected {
      outline: 2px solid gold;
      box-shadow: 0 0 6px gold;
    }
    .legend {
      display: flex; flex-wrap: wrap; gap: 12px; margin: 20px 0; justify-content: center;
    }
    .legend-item {
      display: flex; align-items: center; gap: 6px;
      font-weight: bold;
    }
    .color-box {
      width: 22px; height: 22px; border: 1px solid #333;
    }
    .cart {
      background: #fff; padding: 18px; border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .cart h3 { margin-top: 0; }
    .cart-item { margin: 6px 0; font-family: monospace; }
    .total { font-size: 20px; font-weight: bold; margin: 12px 0; color: #d32f2f; }
    .order-form { margin-top: 20px; }
    .form-group { margin: 14px 0; }
    .form-group label {
      display: block; margin-bottom: 5px;
      font-weight: bold;
    }
    .form-group input {
      width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;
      font-size: 16px;
    }
    .pay-btn {
      background: #1976d2; color: white; border: none; padding: 14px;
      font-size: 18px; border-radius: 6px; cursor: pointer; width: 100%;
      margin-top: 10px;
    }
    .pay-btn:hover { background: #1565c0; }
    .pay-btn:disabled { background: #bdbdbd; cursor: not-allowed; }
    .note {
      font-size: 14px; color: #666; margin-top: 10px;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üé≠ –ó–∞ –¥–≤–æ–º–∞ –∑–∞–π—Ü—è–º–∏</h1>

    <div class="event-info">
      <p><strong>–¢–µ–∞—Ç—Ä:</strong> –¢–µ–∞—Ç—Ä –¥—Ä–∞–º–∏ —ñ–º. –¢. –ì. –®–µ–≤—á–µ–Ω–∫–∞, –ö—Ä–∏–≤–∏–π –†—ñ–≥</p>
      <p><strong>–î–∞—Ç–∞ —Ç–∞ —á–∞—Å:</strong> 15 –∂–æ–≤—Ç–Ω—è 2025, 19:00</p>
      <p>–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –∫–æ–º–µ–¥—ñ—è –Ü–≤–∞–Ω–∞ –ö–∞—Ä–ø–µ–Ω–∫–∞-–ö–∞—Ä–æ–≥–æ —É —è—Å–∫—Ä–∞–≤—ñ–π —Å—É—á–∞—Å–Ω—ñ–π –ø–æ—Å—Ç–∞–Ω–æ–≤—Ü—ñ.</p>
    </div>

    <!-- –õ–µ–≥–µ–Ω–¥–∞ —Ü–µ–Ω -->
    <div class="legend">
      <div class="legend-item"><div class="color-box" style="background:#d32f2f"></div> 200 –≥—Ä–Ω</div>
      <div class="legend-item"><div class="color-box" style="background:#f57c00"></div> 180 –≥—Ä–Ω</div>
      <div class="legend-item"><div class="color-box" style="background:#fbc02d"></div> 160 –≥—Ä–Ω</div>
      <div class="legend-item"><div class="color-box" style="background:#7cb342"></div> 140 –≥—Ä–Ω</div>
      <div class="legend-item"><div class="color-box" style="background:#29b6f6"></div> 120 –≥—Ä–Ω</div>
      <div class="legend-item"><div class="color-box" style="background:#7e57c2"></div> 100 –≥—Ä–Ω</div>
      <div class="legend-item"><div class="color-box" style="background:#9e9e9e"></div> 70 –≥—Ä–Ω</div>
    </div>

    <!-- –°—Ö–µ–º–∞ –∑–∞–ª–∞ -->
    <div class="hall-container" id="hall"></div>

    <!-- –ö–æ—Ä–∑–∏–Ω–∞ –∏ —Ñ–æ—Ä–º–∞ -->
    <div class="cart">
      <h3>–í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h3>
      <div id="cart-items"></div>
      <div class="total">–†–∞–∑–æ–º: <span id="total">0</span> –≥—Ä–Ω</div>

      <div class="order-form">
        <div class="form-group">
          <label>–ü—Ä—ñ–∑–≤–∏—â–µ —Ç–∞ –Ü–º‚Äô—è *</label>
          <input type="text" id="name" required placeholder="–ü–µ—Ç—Ä–µ–Ω–∫–æ –ú–∞—Ä—ñ—è">
        </div>
        <div class="form-group">
          <label>–¢–µ–ª–µ—Ñ–æ–Ω *</label>
          <input type="tel" id="phone" required placeholder="+380 68 123 45 67">
        </div>
        <div class="form-group">
          <label>Email (–¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–≤–∏—Ç–∫—ñ–≤) *</label>
          <input type="email" id="email" required placeholder="mariya@example.com">
        </div>
        <div class="form-group">
          <label>–ö–æ–º–µ–Ω—Ç–∞—Ä (–Ω–æ–º–µ—Ä –º—ñ—Å—Ü—å –∑–∞ –±–∞–∂–∞–Ω–Ω—è–º)</label>
          <input type="text" id="comment" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: —Ä–∞–∑–æ–º –∑ —Å—ñ–º'—î—é">
        </div>
      </div>

      <button class="pay-btn" id="pay-btn" disabled>–û–ø–ª–∞—Ç–∏—Ç–∏ –∫–≤–∏—Ç–∫–∏</button>
      <p class="note">–ü—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏ –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ñ –∫–≤–∏—Ç–∫–∏ –Ω–∞ email –ø—Ä–æ—Ç—è–≥–æ–º 1 –≥–æ–¥–∏–Ω–∏.</p>
    </div>
  </div>

  <script>
    // === –í–ê–®–ê –ö–í–û–¢–ê: 70 –º—ñ—Å—Ü—å (–ø–æ–∫–∏ –ø—Ä–∏–∫–ª–∞–¥ –∑ 5 –º—ñ—Å—Ü—è–º–∏ ‚Äî –≤–∏ –¥–æ–¥–∞—Å—Ç–µ —Ä–µ—à—Ç—É) ===
    const quotaSeats = [
      // –§–æ—Ä–º–∞—Ç: { row: "—Ä—è–¥", seat: "–º—ñ—Å—Ü–µ", price: —Ü—ñ–Ω–∞, x: –ø—ñ–∫—Å–µ–ª—ñ –≤—ñ–¥ –ª—ñ–≤–æ–≥–æ –∫—Ä–∞—é, y: –ø—ñ–∫—Å–µ–ª—ñ –≤—ñ–¥ –≤–µ—Ä—Ö—É }
      { row: 3, seat: 5, price: 200, x: 362, y: 440 },
      { row: 3, seat: 6, price: 200, x: 240, y: 150 },
      { row: 3, seat: 7, price: 200, x: 270, y: 150 },
      { row: 5, seat: 12, price: 180, x: 300, y: 200 },
      { row: 5, seat: 13, price: 180, x: 330, y: 200 }
      // üîß –î–æ–¥–∞–π—Ç–µ —Ä–µ—à—Ç—É 65 –º—ñ—Å—Ü—å —Å—é–¥–∏ –∑–∞ —Ç–∏–º —Å–∞–º–∏–º —à–∞–±–ª–æ–Ω–æ–º
    ];

    const priceColors = {
      200: '#d32f2f',
      180: '#f57c00',
      160: '#fbc02d',
      140: '#7cb342',
      120: '#29b6f6',
      100: '#7e57c2',
      70: '#9e9e9e'
    };

    let selectedSeats = [];

    function renderSeats() {
      const hall = document.getElementById('hall');
      quotaSeats.forEach((seat, index) => {
        const seatEl = document.createElement('div');
        seatEl.className = 'seat';
        seatEl.textContent = seat.seat;
        seatEl.style.left = `${seat.x}px`;
        seatEl.style.top = `${seat.y}px`;
        seatEl.style.backgroundColor = priceColors[seat.price];
        seatEl.dataset.index = index;

        seatEl.addEventListener('click', () => toggleSeat(index, seatEl));
        hall.appendChild(seatEl);
      });
    }

    function toggleSeat(index, element) {
      const seat = quotaSeats[index];
      const key = `${seat.row}-${seat.seat}`;
      const existing = selectedSeats.find(s => s.key === key);

      if (existing) {
        selectedSeats = selectedSeats.filter(s => s.key !== key);
        element.classList.remove('selected');
      } else {
        selectedSeats.push({ key, ...seat });
        element.classList.add('selected');
      }
      updateCart();
    }

    function updateCart() {
      const cartItems = document.getElementById('cart-items');
      const totalEl = document.getElementById('total');
      const payBtn = document.getElementById('pay-btn');

      cartItems.innerHTML = '';
      let total = 0;

      selectedSeats.forEach(item => {
        const div = document.createElement('div');
        div.className = 'cart-item';
        div.textContent = `–†—è–¥ ${item.row}, –ú—ñ—Å—Ü–µ ${item.seat} ‚Äî ${item.price} –≥—Ä–Ω`;
        cartItems.appendChild(div);
        total += item.price;
      });

      totalEl.textContent = total;
      payBtn.disabled = selectedSeats.length === 0;
    }

    document.getElementById('pay-btn').addEventListener('click', () => {
      const name = document.getElementById('name').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const email = document.getElementById('email').value.trim();
      const total = document.getElementById('total').textContent;

      if (!name || !phone || !email) {
        alert('‚ùó –ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —É—Å—ñ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ –ø–æ–ª—è.');
        return;
      }

      // üîß –ó–ê–ú–Ü–ù–ò–¢–ï –¶–ï–ô –ë–õ–û–ö –ù–ê –†–ï–ê–õ–¨–ù–£ –ü–õ–ê–¢–Ü–ñ–ù–£ –ü–û–°–ò–õ–ê–ù–ù–Ø LIQPAY
      const order_id = `za_zaytsiamy_20251015_${Date.now()}`;
      const description = encodeURIComponent(`–ó–∞ –¥–≤–æ–º–∞ –∑–∞–π—Ü—è–º–∏, –º—ñ—Å—Ü—è: ${selectedSeats.map(s => `–†${s.row}-–ú${s.seat}`).join(', ')}`);
      
      // –ü—Ä–∏–∫–ª–∞–¥ —à–∞–±–ª–æ–Ω—É –¥–ª—è LiqPay (–≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–∞–∫—É –ø–æ—Å–∏–ª–∞–Ω–Ω—è –≤ –ø–∞–Ω–µ–ª—ñ LiqPay)
      const liqpayUrl = `https://www.liqpay.ua/checkout?amount=${total}&currency=UAH&description=${description}&order_id=${order_id}&language=uk`;
      
      // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –Ω–∞ –æ–ø–ª–∞—Ç—É
      window.location.href = liqpayUrl;
    });

    // –ó–∞–ø—É—Å–∫
    renderSeats();
  </script>
</body>
</html>
